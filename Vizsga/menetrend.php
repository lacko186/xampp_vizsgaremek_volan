<?php
session_start();

$db_host = 'localhost';
$db_user = 'root';
$db_pass = '';
$db_name = 'volan_app';

try {
    $conn = new PDO("mysql:host=$db_host;dbname=$db_name;charset=utf8", $db_user, $db_pass);
    $conn->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
} catch(PDOException $e) {
    die("Kapcsol칩d치si hiba: " . $e->getMessage());
}
?>
<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kaposv치r Helyi J치ratok</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
    
    <style>

        
        :root {
            --primary-color: #001F3F;
            --accent-color: #FFC107;
            --text-light: #FFFFFF;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #e4e8eb 100%);
            color: #333;
            margin: 0;
            padding: 0;
            min-height: 100vh;
        }

/*-------------------------------------------------------------------HEADER------------------------------------------------------------------------------------------*/

        .header {
            position: relative;
            background-color: var(--primary-color);
            color: var(--text-light);
            box-shadow: var(--shadow);
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            text-align: center;
            align-items: center;
            gap: 1rem;
            padding: 16px;
        }

        nav {
            position: relative;
            background-color: var(--primary-color);
            padding: 8px;
            width: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 3px;
            box-shadow: 0 2px 5px rgba(255, 255, 255, 0.3);
            transition: width 0.6s linear;
            margin-right: 10px;
            margin-top: 30px;
            max-height: 50px;
        }


        nav.active {
            width: 99%;
        }

        nav ul {
            display: flex;
            list-style-type: none;
            padding: 0;
            margin: 0;
            width: 0;
            transition: width 0.6s linear;
        }

        nav.active ul {
            width: 100%;
        }

        nav ul li {
            transform: rotateY(0deg);
            opacity: 0;
            transition: transform 0.6s linear, opacity 0.6s linear;
            padding: 5px;
        }

        nav.active ul li {
            opacity: 1;
            transform: rotateY(360deg);
        }

        nav ul a {
            position: relative;
            color: #000;
            text-decoration: none;
            margin: 0 5px;
        }

        .icon {
            background-color: var(--primary-color);
            border: 0;
            cursor: pointer;
            padding: 0;
            position: relative;
            height: 30px;
            width: 30px;
        }

        .icon:hover{
            background-color: var(--primary-color);
        }

        .icon:focus {
            outline: 0;
        }

        .icon .line {
            background-color: var(--text-light);
            height: 2px;
            width: 20px;
            position: absolute;
            top: 10px;
            left: 5px;
            transition: transform 0.6s linear;
        }

        .icon .line2 {
            top: auto;
            bottom: 10px;
        }

        nav.active .icon .line1 {
            transform: rotate(-765deg) translateY(5.5px);
        }

        nav.active .icon .line2 {
            transform: rotate(765deg) translateY(-5.5px);
        }

        .time {
            text-align: center;
            font-size: 1.5rem;
            color: var(--text-light);
            background: rgba(255, 255, 255, 0.1);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            animation: pulse 2s infinite;
        }

        .search-container {
            width: 100%;
            max-width: 700px;
            position: relative;
            align-content: center;
            margin: 1rem 0;
        }

        #searchBox {
            width: 100%;
            padding: 1rem;
            border: none;
            border-radius: 25px;
            background: rgba(255, 255, 255, 0.95);
            box-shadow: var(--shadow);
            font-size: 1rem;
            transition: var(--transition);
            align-content: center;
        }

        #searchBox:focus {
            outline: none;
            transform: scale(1.02);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }

        .search-icon {
            position: absolute;
            right: 1px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--primary-color);
        }
        
/*-------------------------------------------------------------------HEADER END------------------------------------------------------------------------------------------*/

        #filterButtons {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 1rem;
            padding: 1rem;
            max-width: 1200px;
            margin: 0 auto;
        }

        .filter-button {
            background: white;
            border: none;
            color: #333;
            padding: 0.8rem 1.5rem;
            border-radius: 20px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 0.5rem;
            box-shadow: var(--shadow);
        }

        .filter-button:hover {
            background: var(--accent-color);
            transform: translateY(-2px);
        }

        .filter-button.active {
            background: var(--accent-color);
            color: #000;
            transform: scale(1.05);
        }

        .route-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            padding: 2rem;
            max-width: 1200px;
            margin: 0 auto;
        }

        .route-button {
            padding: 12px 24px;
            background-color: var(--accent-color);
            color: var(--primary-color);
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            transition: transform 0.2s, background-color 0.2s;
            display: flex;
            float: right;
        }

        .route-button:hover {
            background-color: #FFD700;
            transform: translateY(-2px);
        }

        .route-card {
            background: white;
            border-radius: 20px;
            box-shadow: var(--shadow);
            padding: 1.5rem;
            transition: var(--transition);
            animation: fadeIn 0.5s ease-out;
        }

        .route-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
        }

        .route-number {
            display: flex;
            align-items: center;
            gap: 1rem;
            font-size: 1.1rem;
            font-weight: bold;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #f0f0f0;
        }

        .bus-icon {
            color: var(--accent-color);
            font-size: 1.5rem;
            animation: bounce 2s infinite;
        }

        .route-details {
            display: flex;
            flex-direction: column;
            gap: 0.8rem;
        }

        .next-departure, .route-frequency {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.95rem;
        }

        .show-stops {
            color: var(--accent-color);
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 10px;
            transition: var(--transition);
            text-align: center;
            margin-top: 1rem;
        }

        .show-stops:hover {
            background: rgba(0, 31, 63, 0.1);
        }

        .stops-list {
            display: none;
            margin-top: 1rem;
            padding: 1rem;
            background: #f8f9fa;
            border-radius: 10px;
            line-height: 1.6;
            color: #000;
        }

        .live-indicator {
            display: inline-flex;
            align-items: center;
            gap: 16px;
            background: #4CAF50;
            color: white;
            padding: 0.3rem 0.8rem;
            margin-bottom: 20px;
            border-radius: 15px;
            font-size: 0.8rem;
            animation: pulse 2s infinite;
        }

/*-------------------------------------------------------------------@MEDIA------------------------------------------------------------------------------------------*/

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes fadeInDown {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.7; }
            100% { opacity: 1; }
        }

        @media (max-width: 768px) {
            .header-content {
                padding: 1rem;
            }

            h1 {
                font-size: 2rem;
            }

            .filter-button {
                padding: 0.6rem 1rem;
                font-size: 0.9rem;
            }

            .route-container {
                grid-template-columns: 1fr;
                padding: 1rem;
            }
        }

        @media (max-width: 480px) {
            h1 {
                font-size: 1.5rem;
            }

            #filterButtons {
                gap: 0.5rem;
            }

            .filter-button {
                padding: 0.5rem 0.8rem;
                font-size: 0.8rem;
            }
        }
/*-------------------------------------------------------------------@MEDIA END------------------------------------------------------------------------------------------*/
        
    </style>
</head>
<body>
        <div class="header">
            <nav class="active" id="nav">
            <ul>
                <li><a href="index.php" style="color: #FFFFFF; font-weight: bold;"><img src="placeholder.png" style="height: 30px; width: 30px;"> F콈oldal</a></li>
              <li><a href="buy.php" style="color: #FFFFFF; font-weight: bold;"><img src="tickets.png" style="height: 30px; width: 30px;"> Jegyv치s치rl치s</a></li>
              <li><a href="menetrend.php" style="color: #FFFFFF; font-weight: bold;"><img src="calendar.png" style="height: 30px; width: 30px;"> Menetrend</a></li>
              <li><a href="info.php" style="color: #FFFFFF; font-weight: bold;"><img src="information-button.png" style="height: 30px; width: 30px;"> Inform치ci칩</a></li>

            </ul>
            <button class="icon" id="toggle">
              <div class="line line1"></div>
              <div class="line line2"></div>
            </button>
          </nav>
          <div class="navh1">
                <h1><i class="fas fa-bus"></i> Kaposv치r Helyi J치ratok</h1>
                <div class="live-indicator">
                    <i class="fas fa-circle"></i> 칄l콈 k칬vet칠s
                </div>
                <div id="time" class="time"></div>
            </div>
            <div class="search-container">
                <input type="text" id="searchBox" placeholder="Keress j치ratsz치m vagy 칰tvonal alapj치n..." />
                <i class="fas fa-search search-icon"></i>
            </div>
        </div>
    
    <div id="filterButtons">
        <button class="filter-button active" data-filter="all">
            <i class="fas fa-globe"></i> 칐sszes
        </button>
        <button class="filter-button" data-filter="downtown">
            <i class="fas fa-city"></i> Belv치ros
        </button>
        <button class="filter-button" data-filter="university">
            <i class="fas fa-graduation-cap"></i> Egyetem
        </button>
        <button class="filter-button" data-filter="industrial">
            <i class="fas fa-industry"></i> Ipari
        </button>
        <button class="filter-button" data-filter="suburban">
            <i class="fas fa-home"></i> K칲lv치ros
        </button>
        <button class="filter-button" data-filter="hospital">
            <i class="fas fa-hospital"></i> K칩rh치z
        </button>
    </div>

    <div id="routeContainer" class="route-container"></div>

    <script>
        const toggle = document.getElementById('toggle')
        const nav = document.getElementById('nav')

        toggle.addEventListener('click', () => nav.classList.toggle('active'))
        const busRoutes = [
            {
                "number": "12",
                "name": "Helyi aut칩busz-치llom치s - Sopron u. - Laktanya",
                "category": "residential",
                "stops": ["Helyi aut칩busz-치llom치s","Corso","Z치rda u.","Honv칠d u.","Arany J. t칠r","Losonc-k칬z","Brass칩 u.","Sopron u.","B칰zavir치g u.","Laktanya"
                ,"Laktanya","B칰zavir치g u.","Nagyszeben u.","Losonc-k칬z","Arany J. t칠r","Honv칠d u.","Somssich P. u.","Szent Imre u. 13.","Sz칠ch칠nyi t칠r","R치k칩czi t칠r","Helyi aut칩busz-치llom치s"],
                "frequency": "15 percenk칠nt",
                "firstBus": "05:00",
                "lastBus": "22:30"
            },
            {
                "number": "13",
                "name": "Helyi aut칩busz-치llom치s - Kecelhegy - Helyi aut칩busz-치llom치s",
                "category": "residential",
                "stops": ["Helyi aut칩busz-치llom치s","Berzsenyi u. fel칲lj치r칩","Berzsenyi u. 30.","F칲redi 칰ti csom칩pont","V치rosi k칬nyvt치r","Vas칰tk칬z","Hajn칩czy u. csp.","M치ty치s k. u., fordul칩","Kecelhegyalja u.","K콈r칬si Cs. S. u.","Kecelhegyi iskola"
                ,"Bthlen G. u.","Magyar Nobel-d칤jasok tere","Eger u.","츼llatk칩rh치z","K칬lcsey u.","Tompa M. u.","Berzsenyi u. fel칲lj치r칩","Helyi aut칩busz-치llom치s"],
                "frequency": "20 percenk칠nt",
                "firstBus": "05:30",
                "lastBus": "23:00"
            },
            {
                "number": "20",
                "name": "Rakt치r u. - Laktanya - Videoton",
                "category": "suburban",
                "stops": ["Rakt치r u.","Jutai u. 45.","T칩th 츼. u.","Jutai u. 24.","Hajn칩czy u. csp.","Vas칰tk칬z","V치rosi k칬nyvt치r","F칲redi 칰ti csom칩pont","Toldi lak칩negyed","Kinizsi ltp.","B칰zavir치g u."
                ,"Laktanya","Laktanya","B칰zavir치g u.","Nagyszeben u.","Losonc-k칬z","Arany J. t칠r","츼NTSZ","P치zm치ny P. u.","Kisg치t","Mez콈 u. csp.","Keny칠rgy치r u. 1.","Videoton"],
                "frequency": "30 percenk칠nt",
                "firstBus": "05:15",
                "lastBus": "21:45"
            },
            {
                "number": "21",
                "name": "Rakt치r u. - Videoton",
                "category": "residential",
                "stops": ["Rakt치r u.","Rakt치r u. 2.","Jutai u. 45.","T칩th 츼. u.","Jutai u. 24.","Hajn칩czy u. csp.","Vas칰tk칬z"
                ,"V치rosi k칬nyvt치r","F칲redi 칰ti csom칩pont","츼NTSZ","P치zm치ny P. u.","Kisg치t","Mez콈 u. csp.","Keny칠rgy치r u. 1.","Videoton"],
                "frequency": "15 percenk칠nt",
                "firstBus": "05:10",
                "lastBus": "22:40"
            },
            {
                "number": "23",
                "name": "Kaposf칲red fordul칩 - F칲redi csp. - Kaposv치ri Egyetem",
                "category": "industrial",
                "stops": ["Kaposf칲red, fordul칩","Kaposf칲redi u. 244.","Kaposf칲red, k칬zpont","츼llom치s u.","Kaposf칲red, v치.","Kaposf칲redi u. 104.","Kaposf칲redi u. 12.","Vol치n-telep","Laktanya","B칰zavir치g u.","Kinizsi ltp."
                ,"Toldi lak칩negyed","F칲redi 칰ti csom칩pont","츼NTSZ","P치zm치ny P. u.","Kisg치t","Mez콈 u. csp.","Izz칩 u.","Guba S. u. 57.","Guba S. u. 81.","Villamoss치gi Gy치r","Kaposv치ri Egyetem"],
                "frequency": "40 percenk칠nt",
                "firstBus": "05:30",
                "lastBus": "20:30"
            },
            {
                "number": "26",
                "name": "Kaposf칲red fordul칩 - Losonc k칬z - Videoton - METYX",
                "category": "hospital",
                "stops": ["Kaposf칲red, fordul칩","Kaposf칲redi u. 244","Kaposf칲red, k칬zpont","츼llom치s u.","Kaposf칲red, v치.","츼llom치s u.","Kaposf칲red, k칬zpont","Kaposf칲redi u. 104.","Kaposf칲redi u. 12.","Vol치n-telep","Laktanya","B칰zavir치g u."
                ,"Kinizsi ltp.","Losonc-k칬z","Arany J. t칠r","츼NTSZ","P치zm치ny P. u.","Kisg치t","Mez콈 u. csp.","Keny칠rgy치r u. 1.","Keny칠rgy치r u. 3","Videoton","Dombov치ri u. 4.","METYX"],
                "frequency": "30 percenk칠nt",
                "firstBus": "05:15",
                "lastBus": "21:45"
            },
            {
                "number": "27",
                "name": "Laktanya - F칲redi u. csp. - KOM칄TA",
                "category": "suburban",
                "stops": ["Laktanya","B칰zavir치g u.","Kinizsi ltp.","Toldi lak칩nyegyed","F칲redi 칰ti csom칩pont","츼NTSZ","P치zm치ny P. u.","Kisg치t","Mez콈 u. csp."
                ,"H콈s칬k temploma","Gy치r u.","P칠csi 칰ti iskola","Kom칠ta, fordul칩"],
                "frequency": "60 percenk칠nt",
                "firstBus": "06:00",
                "lastBus": "20:00"
            },
            {
                "number": "31",
                "name": "Helyi aut칩busz-치llom치s - Egyenesi u. fordul칩",
                "category": "suburban",
                "stops": ["Helyi aut칩busz-치llom치s", "Berzsenyi u. fel칲lj치r칩","Tompa M. u.","K칬lcsey u.","츼llatk칩rh치z","Eger u.","Kapoli A. u.","Egyenesi u. 42.","Besz칠des J. u.","Egyenesi u. fordul칩"],
                "frequency": "40 percenk칠nt",
                "firstBus": "05:20",
                "lastBus": "22:00"
            },
            {
                "number": "32",
                "name": "Helyi aut칩busz치llom치s - Kecelhegy - Helyi aut칩busz-치llom치s",
                "category": "hospital",
                "stops": ["Helyi aut칩busz치llom치s","Berzsenyi u. fel칲lj치r칩","Tompa M. u.","K칬lcsey u.","츼llatk칩rh치z","Eger u.","Magyar Nobel-d칤jasok tere","Bethlen G. u.","Kecelhegyi iskola","K콈r칬si Cs. S. u."
                ,"Kecelheygalja u.","M치ty치s k. u., fordul칩","Hajn칩czy u. csp.","Vas칰tk칬z","V치rosi k칬nyvt치r","F칲redi 칰ti csom칩pont","Berzsenyi u. 30.","Berzsenyi u. fel칲lj치r칩","Heyi aut칩busz-치llom치s"],
                "frequency": "25 percenk칠nt",
                "firstBus": "05:10",
                "lastBus": "22:00"
            },
            {
                "number": "33",
                "name": "Helyi aut. 치ll. - Egyenesi u. - Kecelhegy - Helyi aut. 치ll.",
                "category": "education",
                "stops": ["Helyi aut칩busz치llom치s","Berzsenyi u. fel칲lj치r칩","Tompa M. u.","K칬lcsey u.","츼llatk칩rh치z","Eger u.","Kapoli A. u.","Egyenesi u. 42.","Besz칠des J. u.","Egyenesi u. fordul칩","Besz칠des J. u."
                ,"Egyenesi u. 42.","Kapoli A. u.","Magyar Nobel-d칤jasok tere","Bethlen G. u.","Kecelhegyi iskola","K콈r칬si Cs. S. u.","Kecelhegyalja u.","M치ty치s k. u., fordul칩","Hajn칩czy u. csp."
                ,"Vas칰tk칬z","V치rosi k칬nyvt치r","F칲redi 칰ti csom칩pont","Berzsenyi u. 30.","Berzsenyi u. fel칲lj치r칩","Heyi aut칩busz-치llom치s"],
                "frequency": "15 percenk칠nt",
                "firstBus": "06:00",
                "lastBus": "22:30"
            },
            {
                "number": "40",
                "name": "Kopp치ny vez칠r u - 67-es 칰t - Rakt치r u.",
                "category": "industrial",
                "stops": ["Kopp치ny vez칠r u.","Erd콈sor u.","R칩zsa u.","67-es sz. 칰t","Berzsenyi u. fel칲lj치r칩","Helyi aut칩busz-치llom치s","Berzsenyi u. fel칲lj치r칩","Berzsenyi u. 30.","F칲redi 칰ti csom칩pont","V치rosi k칬nyvt치r"
                ,"Vas칰tk칬z","Hajn칩czy u. csp.","Jutai u. 24.","T칩th 츼. u.","Jutai u. 45.","Rakt치r u. 2.","Rakt치r u."],
                "frequency": "45 percenk칠nt",
                "firstBus": "05:30",
                "lastBus": "20:30"
            },
            {
                "number": "41",
                "name": "Kopp치ny vez칠r u - Bart칩k B. u. - Rakt치r u.",
                "category": "suburban",
                "stops": ["Kopp치ny vez칠r u.","Erd콈sor u.","R칩zsa u.","Szegf콤 u.","J칩kai u.","Bart칩k B. u.","Berzsenyi u. fel칲lj치r칩","Helyi aut칩busz-치llom치s","Berzsenyi u. fel칲lj치r칩","Berzsenyi u. 30.","F칲redi 칰ti csom칩pont","V치rosi k칬nyvt치r"
                ,"Vas칰tk칬z","Hajn칩czy u. csp.","Jutai u. 24.","T칩th 츼. u.","Jutai u. 45.","Rakt치r u. 2.","Rakt치r u."],
                "frequency": "30 percenk칠nt",
                "firstBus": "05:15",
                "lastBus": "21:00"
            },
            {
                "number": "42",
                "name": "T칬r칬cske fordul칩 - K칩rh치z - Laktanya",
                "category": "suburban",
                "stops": ["T칬r칬cske, fordul칩","Fenyves u. 31.","Fenyves u. 37/A","Sz콈l콈hegy","Kertbar치t als칩","Kertbar치t fels콈","Gyerty치nos","Harangvir치g u.","Aranyes콈 u.","Zichy u.","T치ncsics M. u.","Bart칩k B. u.","Berzsenyi u. fel칲lj치r칩"
                ,"Helyi aut칩busz-치llom치s","Vas칰t치llom치s","Talli치n Gy. u. 4.","K칩rh치z","Talli치n Gy. u. 56.","Talli치n Gy. u. 82.","츼NTSZ","F칲redi 칰ti csom칩pont","Toldi lak칩negyed","Kinizsi ltp.","B칰zavir치g u.","Laktanya"],
                "frequency": "45 percenk칠nt",
                "firstBus": "05:30",
                "lastBus": "22:00"
            },
            {
                "number": "43",
                "name": "Helyi aut칩busz-치llom치s - K칩rh치z- Laktanya - Rakt치r utca - Helyi aut칩busz-치llom치s",
                "category": "education",
                "stops": ["Helyi aut칩busz-치llom치s", "Vas칰t치llom치s","Talli치n Gy. u. 4","K칩rh치z","Talli치n Gy. u. 56","Talli치n Gy. u. 82","Buzs치ki u.","Losonc-k칬z","Brass칩 u.","Sopron u."
                ,"B칰zavir치g u.","Laktanya","Rakt치r u.","Rakt치r u. 2.","Jutai u. 45.","T칩th 츼. u.","Jutai u. 24.","Helyi aut칩busz-치llom치s"],
                "frequency": "20 percenk칠nt",
                "firstBus": "06:00",
                "lastBus": "22:30"
            },
            {
                "number": "44",
                "name": "Helyi aut칩busz-치llom치s - Rakt치r utca - Laktanya -Arany J치nos t칠r - Helyi aut칩busz-치llom치s",
                "category": "industrial",
                "stops": ["Helyi aut칩busz-치llom치s", "Kapost칲skev치r","Jutai u. 24.","T칩th 츼. u.","Jutai u. 45.","Rakt치r u. 2.","Rakt치r u.","Laktanya","B칰zavir치g u.","Nagyszeben u."
                ,"Losonc-k칬z","Arany J. t칠r","Buzs치ki u.","Rend콈rs칠g","Szent Imre u. 29","Szent Imre u. 13.","Sz칠ch칠nyi t칠r","R치k칩czi t칠r","Helyi aut칩busz-치llom치s"],
                "frequency": "35 percenk칠nt",
                "firstBus": "05:20",
                "lastBus": "21:00"
            },
            {
                "number": "45",
                "name": "Helyi aut칩busz-치llom치s - 67-es 칰t - Kopp치ny vez칠r u.",
                "category": "suburban",
                "stops": ["Helyi aut칩busz-치llom치s","Berzsenyi u. fel칲lj치r칩","67-es sz. 칰t","R칩zsa u.","G칬nczi F. u.","Kopp치ny vez칠r u."],
                "frequency": "30 percenk칠nt",
                "firstBus": "05:15",
                "lastBus": "21:45"
            },
            {
                "number": "46",
                "name": "Helyi aut칩busz-치llom치s - T칬r칬cske fordul칩",
                "category": "hospital",
                "stops": ["Helyi aut칩busz-치llom치s","Berzsenyi u. fel칲lj치r칩","Bart칩k B. u.","T치ncsics M. u.","Zichy u.","Aranyes콈 u.","Harangvir치g u."
                ,"Gyert치nyos","Kertbar치t fels콈","Kertbar치t als칩","Sz콈l콈hegy","Fenyves u. 37/A","Fenyves u. 31.","T칬r칬cske, fordul칩"],
                "frequency": "25 percenk칠nt",
                "firstBus": "05:30",
                "lastBus": "22:15"
            },
            {
                "number": "47",
                "name": "Kopp치ny vez칠r u.- K칩rh치z - Kaposf칲red fordul칩",
                "category": "education",
                "stops": ["Kopp치ny vez칠r u.","G칬nczi F. u.","R칩zsa u.","67-es sz. 칰t","Berzsenyi u. fel칲lj치r칩","Helyi aut칩busz-치llom치s","Vas칰t치llom치s","Talli치n Gy. u. 4.","K칩rh치z","Talli치n Gy. u. 56."
                ,"Talli치n Gy. u. 82.","츼NTSZ","F칲redi 칰ti csom칩pont","Toldi lak칩negyed","Kinizsi ltp.","B칰zavir치g u.","Laktanya","Vol치n-telep","Kaposf칲redi u. 12.","Kaposf칲redi u. 104.","Kaposf칲red, k칬zpont","Kaposf칲red, fordul칩"],
                "frequency": "15 percenk칠nt",
                "firstBus": "05:50",
                "lastBus": "23:00"
            },
            {
                "number": "61",
                "name": "Helyi- aut칩busz치llom치s - B칠la kir치ly u.",
                "category": "suburban",
                "stops": ["Helyi aut칩busz-치llom치s","Baross G. u.","Csalog치ny u.","Vik치r B.u.","B칠la kir치ly u."],
                "frequency": "60 percenk칠nt",
                "firstBus": "06:30",
                "lastBus": "19:30"
            },
            {
                "number": "62",
                "name": "Helyi aut칩busz-치llom치s - V치rosi f칲rd콈 - B칠la kir치ly u.",
                "category": "industrial",
                "stops": ["Helyi aiut칩busz-치llom치s","Berzsenyi u. fel칲lj치r칩","V치rosi f칲rd콈","Csalog치ny u.","Vik치r B. u.","B칠la kir치ly u."],
                "frequency": "30 percenk칠nt",
                "firstBus": "05:15",
                "lastBus": "21:00"
            },
            {
                "number": "70",
                "name": "Helyi aut칩busz-치llom치s - Kaposf칲red",
                "category": "residential",
                "stops": ["Helyi aut칩busz-치llom치s","Berzsenyi u. fel칲lj치r칩","Berzsenyi u. 30.","F칲redi 칰ti csom칩pont","Toldi lak칩negyed"
                ,"Kinizsi ltp.","B칰zavir치g u.","Laktanya","Z칬ld f콤t콈m콤","Vol치n-telep","Kaposf칲redi u. 12.","Kaposf칲redi u. 104.","Kaposf칲red, k칬zpont","Kaposf칲redi u. 244.","Kaposf칲red, fordul칩"],
                "frequency": "15 percenk칠nt",
                "firstBus": "05:00",
                "lastBus": "23:00"
            },
            {
                "number": "71",
                "name": "Kaposf칲red fordul칩 - Kaposszentjakab fordul칩",
                "category": "suburban",
                "stops": ["Kaposf칲red, fordul칩","Kaposf칲redi u. 244.","Kaposf칲red, k칬zpont","Kaposf칲redi u. 104.","Kaposf칲redi u. 12.","Vol치n-telep","Z칬ld f콤t콈m콤","Laktanya"
                ,"B칰zavir치g u.","Kinizsi ltp.","Toldi lak칩negyed","F칲redi 칰ti csom칩pont","Berzsenyi u. 30.","Berzsenyi u. fel칲lj치r칩","Helyi aut칩busz-치llom치s","R치k칩czi t칠r","F콈 u. 37-39."
                ,"H치rsfa u.","H콈s칬k temploma","Gy치r u.","P칠csi 칰ti iskola","N치dasdi u.","M칩ricz Zs. u.","P칠csi u. 227.","V치rhegy felj치r칩","Kaposszentjakab, fordul칩"],
                "frequency": "40 percenk칠nt",
                "firstBus": "05:10",
                "lastBus": "21:30"
            },
            {
                "number": "72",
                "name": "Kaposf칲red fordul칩 - Hold u. - Kaposszentjakab fordul칩",
                "category": "industrial",
                "stops": ["Kaposf칲red, fordul칩","Kaposf칲redi u. 244.","Kaposf칲red, k칬zpont","츼llom치s u.","Kaposf칲red, v치.","츼llom치s u.","Kaposf칲red, k칬zpont","Kaposf칲redi u. 104.","Kaposf칲redi u. 12.","Vol치n-telep","Z칬ld f콤t콈m콤","Laktanya"
                ,"B칰zavir치g u.","Kinizsi ltp.","Toldi lak칩negyed","F칲redi 칰ti csom칩pont","Berzsenyi u. 30.","Berzsenyi u. fel칲lj치r칩","Helyi aut칩busz-치llom치s","Vas칰t치llom치s","F콈 u. 48.","H치rsfa u.","H콈s칬k temploma","Gy치r u.","P칠csi 칰ti iskola"
                ,"N치dasdi u.","Nap u.","Hold u.","N치dasdi u.","M칩ricz Zs. u.","P칠csi u. 227.","V치rhegy felj치r칩","Kaposzsentjakab, fordul칩"],
                "frequency": "50 percenk칠nt",
                "firstBus": "06:00",
                "lastBus": "20:00"
            },
            {
                "number": "73",
                "name": "Kaposf칲red fordul칩 - KOM칄TA - Kaposszentjakab fordul칩",
                "category": "residential",
                "stops": ["Kaposf칲red, fordul칩","Kaposf칲redi u. 244.","Kaposf칲red, k칬zpont","Kaposf칲redi u. 104.","Kaposf칲redi u. 12.","Vol치n-telep","Z칬ld f콤t콈m콤","Laktanya"
                ,"B칰zavir치g u.","Kinizsi ltp.","Toldi lak칩negyed","F칲redi 칰ti csom칩pont","Berzsenyi u. 30.","Berzsenyi u. fel칲lj치r칩","Helyi aut칩busz-치llom치s","R치k칩czi t칠r","F콈 u. 37-39."
                ,"H치rsfa u.","H콈s칬k temploma","Gy치r u.","P칠csi 칰ti iskola","Kom칠ta, fordul칩","N치dasdi u.","M칩ricz Zs. u.","P칠csi u. 227.","V치rhegy felj치r칩","Kaposszentjakab, fordul칩"],
                "frequency": "45 percenk칠nt",
                "firstBus": "06:15",
                "lastBus": "21:00"
            },
            {
                "number": "74",
                "name": "Hold utca - Helyi aut칩busz-치llom치s",
                "category": "education",
                "stops": ["Hold u.","Nap u.","N치dasdi u.","P칠csi 칰ti iskola","Gy치r u.","H콈s칬k temploma","H치srfa u.","F콈 u. 37-39.","R치k칩czi t칠r","Helyi aut칩busz-치llom치s"],
                "frequency": "20 percenk칠nt",
                "firstBus": "05:45",
                "lastBus": "22:45"
            },
            {
                "number": "75",
                "name": "Helyi aut칩busz-치llom치s - Kaposszentjakab",
                "category": "suburban",
                "stops": ["Helyi aut칩busz-치llom치s","R치k칩czi t칠r","F콈 u. 37-39.","H치rsfa u.","H콈s칬k temploma","Gy치r u.","P칠csi 칰ti iskola","N치dasdi u.","M칩ricz Zs. u.","P칠csi u. 227.","V치rhegy felj치r칩","Kaposszentjakab, fordul칩"],
                "frequency": "60 percenk칠nt",
                "firstBus": "06:30",
                "lastBus": "18:30"
            },
            {
                "number": "81",
                "name": "Helyi aut칩busz-치llom치s - H콈s칬k temploma - Topon치r fordul칩",
                "category": "industrial",
                "stops": ["Helyi aut칩busz-치llom치s","Vas칰t치lom치s","H치rsfa u.","H콈s칬k temploma","Mez콈 u. csp.","Izz칩 u.","Guba S. u. 57","Guba S. u. 81.","Villamoss치gi Gy치r","Kaposv치ri Egyetem"
                ,"Topon치r, posta","Topon치r, Orci el치gaz치s","Topon치ri u. 182.","Topon치ri u. 238.","Topon치r, fordul칩"],
                "frequency": "35 percenk칠nt",
                "firstBus": "05:45",
                "lastBus": "21:15"
            },
            {
                "number": "82",
                "name": "Helyi aut칩busz-치llom치s - K칩rh치z - Topon치r Szab칩 P. u.",
                "category": "education",
                "stops": ["Helyi aut칩busz-치llom치s","Vas칰t치lom치s","Talli치n Gy. u. 4","K칩rh치z","Talli치n Gy. u. 56.","Talli치n Gy. u. 82.","P치zm치ny P. u.","Kisg치t","Mez콈 u. csp."
                ,"Izz칩 u.","Guba S. u. 57","Guba S. u. 81.","Villamoss치gi Gy치r","Kaposv치ri Egyetem","Topon치r, posta","Topon치r, Orci el치gaz치s","Topon치r, Orci 칰t","Topon치r, Szab칩 P. u."],
                "frequency": "25 percenk칠nt",
                "firstBus": "06:00",
                "lastBus": "22:00"
            },
            {
                "number": "83",
                "name": "Helyi aut칩busz-치llom치s - Szab칩 P. u. - Topon치r fordul칩",
                "category": "industrial",
                "stops": ["Helyi aut칩busz-치llom치s","Vas칰t치lom치s","F콈 u. 48.","H치rsfa u.","H콈s칬k temploma","Mez콈 u. csp.","Izz칩 u.","Guba S. u. 57","Guba S. u. 81.","Villamoss치gi Gy치r","Kaposv치ri Egyetem"
                ,"Topon치r, posta","Topon치r, Orci el치gaz치s","Topon치r, Orci 칰t","Topon치r, Szab칩 P. u.","Topon치r, Erdei F. u.","Topon치r, Orci 칰t","Topon치r, Orci el치gaz치s","Topon치ri u. 182.","Topon치ri u. 238.","Topon치r, fordul칩"],
                "frequency": "50 percenk칠nt",
                "firstBus": "06:15",
                "lastBus": "19:30"
            },
            {
                "number": "84",
                "name": "Helyi aut칩busz-치llom치s - Topon치r, fordul칩 - R칠p치spuszta",
                "category": "residential",
                "stops": ["Helyi aut칩busz-치llom치s","Vas칰t치lom치s","F콈 u. 48.","H치rsfa u.","H콈s칬k temploma","Mez콈 u. csp.","Izz칩 u.","Guba S. u. 57","Guba S. u. 81.","Villamoss치gi Gy치r","Kaposv치ri Egyetem"
                ,"Topon치r, posta","Topon치r, Orci el치gaz치s","Topon치ri u. 182.","Topon치ri u. 238.","Topon치r, fordul칩","R칠p치spuszta","R칠p치spuszta, fordul칩"],
                "frequency": "30 percenk칠nt",
                "firstBus": "05:30",
                "lastBus": "21:00"
            },
            {
                "number": "85",
                "name": "Helyi aut칩busz-치llom치s - Kisg치t- Helyi aut칩busz-치llom치s",
                "category": "suburban",
                "stops": ["Helyi aut칩busz-치llom치s","Vas칰t치lom치s","R치k칩czi t칠r","F콈 u. 48.","H치rsfa u.","H콈s칬k temploma","Mez콈 u. csp.","Kisg치t","P치zm치ny P. u."
                ,"Rend콈rs칠g","Szent Imre u. 29","Szent Imre u. 13.","Sz칠ch칠nyi t칠r","Helyi aut칩busz-치llom치s"],
                "frequency": "60 percenk칠nt",
                "firstBus": "06:00",
                "lastBus": "19:00"
            },
            {
                "number": "86",
                "name": "Helyi aut칩busz-치llom치s - METYX - Szennyv칤ztelep",
                "category": "education",
                "stops": ["Helyi aut칩busz-치llom치s","Vas칰t치lom치s","F콈 u. 48.","H치rsfa u.","H콈s칬k temploma","Mez콈 u. csp.","Keny칠rgy치r u. 1.","Videoton","Domb칩v치ri u. 4.","METYX","Cabero","Sennyv칤ztelep"],
                "frequency": "30 percenk칠nt",
                "firstBus": "05:45",
                "lastBus": "21:45"
            },
            {
                "number": "87",
                "name": "Helyi aut칩busz 치llom치s - Videoton - METYX",
                "category": "residential",
                "stops": ["Helyi aut칩busz-치llom치s","Vas칰t치lom치s","F콈 u. 48.","H치rsfa u.","H콈s칬k temploma","Mez콈 u. csp.","Keny칠rgy치r u. 1.","Videoton","Domb칩v치ri u. 4.","METYX"],
                "frequency": "20 percenk칠nt",
                "firstBus": "05:30",
                "lastBus": "22:30"
            },
            {
                "number": "88",
                "name": "Helyi aut칩busz-치llom치s - Videoton",
                "category": "residential",
                "stops": ["Helyi aut칩busz-치llom치s","Vas칰t치lom치s","F콈 u. 48.","H치rsfa u.","H콈s칬k temploma","Mez콈 u. csp.","Keny칠rgy치r u. 1.","Videoton"],
                "frequency": "15 percenk칠nt",
                "firstBus": "05:00",
                "lastBus": "23:30"
            },
            {
                "number": "89",
                "name": "Helyi aut칩busz-치llom치s - Kaposv치ri Egyetem",
                "category": "hospital",
                "stops": ["Helyi aut칩busz-치llom치s","Vas칰t치lom치s","F콈 u. 48.","H치rsfa u.","H콈s칬k temploma","Mez콈 u. csp.","Izz칩 u.","Guba S. u. 57","Guba S. u. 81.","Villamoss치gi Gy치r","Kaposv치ri Egyetem"],
                "frequency": "25 percenk칠nt",
                "firstBus": "06:00",
                "lastBus": "22:15"
            },
            {
                "number": "90",
                "name": "Helyi aut칩busz-치llom치s - R칩mahegy",
                "category": "suburban",
                "stops": ["Helyi aut칩busz-치llom치s","Berzsenyi u. fel칲lj치r칩","J칩kai liget","Szigetv치ri u. 6.","Szigetv치ri u. 62.","Ballak칰ti u.","Szigetv치ri u. 139.","Ny치r u.","R칩mahegy"],
                "frequency": "70 percenk칠nt",
                "firstBus": "06:30",
                "lastBus": "19:00"
            },
            {
                "number": "91",
                "name": "R칩mahegy - P치zm치ny P u. - F칲redi u. csp.",
                "category": "hospital",
                "stops": ["R칩mahegy","Ny치r u.","Szigetv치ri u. 139.","Ballak칰ti u.","Szigetv치ri u. 62.","Szigetv치ri u. 6.","J칩kai liget","Berzsenyi u. fel칲lj치r칩","Helyi aut칩busz-치llom치s","Vas칰t치lom치s","F콈 u. 48.","H치rsfa u."
                ,"Vir치g u.","P치zm치ny P. u. 1.","V칬r칬stelek u.","Hegyi u.","Buzs치ki u.","Arany J. t칠r","F칲redi 칰ti csom칩pont"],
                "frequency": "30 percenk칠nt",
                "firstBus": "05:10",
                "lastBus": "22:30"
            }

        ];

        function updateTime() {
            const now = new Date();
            const timeString = now.toLocaleTimeString('hu-HU');
            document.getElementById('time').textContent = timeString;
        }

        setInterval(updateTime, 1000);
        updateTime();

        function displayRoutes(filter = "all") {
            const routeContainer = document.getElementById('routeContainer');
            routeContainer.innerHTML = "";
            
            const filteredRoutes = filter === "all" 
                ? busRoutes 
                : busRoutes.filter(route => route.category === filter);

            filteredRoutes.forEach((route, index) => {
                const routeCard = document.createElement('div');
                routeCard.className = 'route-card';
                routeCard.style.animationDelay = `${index * 0.1}s`;
                
                routeCard.innerHTML = `
                    <div class="route-number">
                        <i class="fas fa-bus bus-icon"></i>
                        ${route.number} - ${route.name}
                    </div>
                    <div>
                        <button class="route-button" id="iranyBtn">
                            Ir치ny&nbsp;<img src="switch.png" alt="Switch" style="width: 20px; height: 20px; max-width: 40px; max-width: 20px;">
                        </button>
                    </div>
                    <div class="route-details">
                        <div class="next-departure">
                            <i class="far fa-clock"></i>
                            K칬vetkez콈 indul치s: ${route.firstBus}
                        </div>
                        <div class="route-frequency">
                            <i class="fas fa-sync-alt"></i>
                            J치rats콤r콤s칠g: ${route.frequency}
                        </div>
                    </div>
                        <div class="show-stops" onclick="toggleStops(this)">
                            <i class="fas fa-map-marker-alt"></i>
                            Meg치ll칩k megjelen칤t칠se
                        </div>
                        <div class="stops-list">
                            ${route.stops.map((stop, i) => 
                                `<div><i class="fas fa-stop"></i> ${stop}</div>`
                            ).join('')}
                        </div>
                `;
                routeContainer.appendChild(routeCard);
            });
        }

        //Ir치ny v치ltoztat칩 gomb
        /*document.getElementById("iranyBtn").onclick = function() {
            busRoutes.number.stops.reverse();
        };*/

        function toggleStops(element) {
            const stopsList = element.nextElementSibling;
            const isVisible = stopsList.style.display === "block";
            
            stopsList.style.display = isVisible ? "none" : "block";
            element.innerHTML = isVisible
                ? '<i class="fas fa-map-marker-alt"></i> Meg치ll칩k megjelen칤t칠se'
                : '<i class="fas fa-map-marker-alt"></i> Meg치ll칩k elrejt칠se';
            
            if (!isVisible) {
                stopsList.style.opacity = "0";
                stopsList.style.display = "block";
                setTimeout(() => {
                    stopsList.style.opacity = "1";
                }, 10);
            }
        }

        // Keres칠s funkcionalit치s
        const searchBox = document.getElementById('searchBox');
        searchBox.addEventListener('input', (e) => {
            const searchTerm = e.target.value.toLowerCase();
            const routeCards = document.querySelectorAll('.route-card');
            
            routeCards.forEach(card => {
                const routeText = card.textContent.toLowerCase();
                if (routeText.includes(searchTerm)) {
                    card.style.display = 'block';
                    card.style.animation = 'fadeIn 0.5s ease-out';
                } else {
                    card.style.display = 'none';
                }
            });
        });

        // Sz콤r콈 gombok kezel칠se
        const filterButtons = document.querySelectorAll('.filter-button');
        filterButtons.forEach(button => {
            button.addEventListener('click', () => {
                filterButtons.forEach(btn => btn.classList.remove('active'));
                button.classList.add('active');
                const filter = button.getAttribute('data-filter');
                displayRoutes(filter);
            });
        });

        // Val칩s idej콤 adatok szimul치l치sa
        function simulateRealTimeUpdates() {
            const cards = document.querySelectorAll('.route-card');
            cards.forEach(card => {
                const nextDeparture = card.querySelector('.next-departure');
                if (nextDeparture) {
                    const now = new Date();
                    const minutes = now.getMinutes();
                    const nextTime = new Date(now.getTime() + Math.random() * 30 * 60000);
                    const nextTimeString = nextTime.toLocaleTimeString('hu-HU', {
                        hour: '2-digit',
                        minute: '2-digit'
                    });
                    nextDeparture.innerHTML = `
                        <i class="far fa-clock"></i>
                        K칬vetkez콈 indul치s: ${nextTimeString}
                        <span class="live-indicator" style="font-size: 0.8em; padding: 2px 6px;">
                            <i class="fas fa-circle" style="font-size: 0.6em;"></i> 칄l콈
                        </span>
                    `;
                }
            });
        }

        function setupNotifications() {
            const notificationBtn = document.createElement('button');
            notificationBtn.className = 'filter-button';
            notificationBtn.innerHTML = '<i class="fas fa-bell"></i> 칄rtes칤t칠sek';
            notificationBtn.style.marginLeft = 'auto';
            
            notificationBtn.addEventListener('click', () => {
                if ('Notification' in window) {
                    Notification.requestPermission().then(permission => {
                        if (permission === 'granted') {
                            new Notification('Kaposv치r Helyi J치ratok', {
                                body: 'Az 칠rtes칤t칠sek sikeresen bekapcsolva!',
                                icon: '/bus-icon.png'
                            });
                        }
                    });
                }
            });
            
            document.getElementById('filterButtons').appendChild(notificationBtn);
        }

        document.addEventListener('DOMContentLoaded', () => {
            displayRoutes();
            addWeatherWidget();
            setupNotifications();
            setInterval(simulateRealTimeUpdates, 30000);
        });

        // Mobilbar치t men칲
        function setupMobileMenu() {
            const header = document.querySelector('header');
            const filterButtons = document.getElementById('filterButtons');
            
            let lastScroll = 0;
            window.addEventListener('scroll', () => {
                const currentScroll = window.pageYOffset;
                
                if (currentScroll > lastScroll && currentScroll > 100) {
                    header.style.transform = 'translateY(-100%)';
                } else {
                    header.style.transform = 'translateY(0)';
                }
                lastScroll = currentScroll;
            });
        }

        setupMobileMenu();

        
        function addThemeToggle() {
            const themeBtn = document.createElement('button');
            themeBtn.className = 'filter-button';
            themeBtn.innerHTML = '<i class="fas fa-moon"></i>';
            themeBtn.style.position = 'fixed';
            themeBtn.style.bottom = '20px';
            themeBtn.style.right = '20px';
            themeBtn.style.zIndex = '1000';
            
            let isDark = false;
            themeBtn.addEventListener('click', () => {
                isDark = !isDark;
                document.body.style.background = isDark ? '#1a1a1a' : 'linear-gradient(135deg, #f5f7fa 0%, #e4e8eb 100%)';
                document.body.style.color = isDark ? '#fff' : '#333';
                themeBtn.innerHTML = isDark ? '<i class="fas fa-sun"></i>' : '<i class="fas fa-moon"></i>';
                
                const cards = document.querySelectorAll('.route-card');
                cards.forEach(card => {
                    card.style.background = isDark ? '#2d2d2d' : 'white';
                    card.style.color = isDark ? '#fff' : '#333';
                });
            });
            
            document.body.appendChild(themeBtn);
        }

        addThemeToggle();
    </script>
</body>
</html>

